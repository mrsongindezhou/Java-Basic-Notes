## 数据库的读写分离的作用是什么？如何实现？

### 什么是读写分离？
一个Master数据库，多个Slave数据库。Master库负责数据更新和实时数据查询，Slave库负责非实时数据查询。
### 为什么需要读写分离？
在实际的应用中，因为
-  数据库都是读多写少（读取数据的频率高，更新数据的频率相对较少）
-  读取数据通常耗时比较长，占用数据库服务器的CPU较多，从而影响用户体验。
我们通常的做法就是把查询从主库中抽取出来，采用多个从库，使用负载均衡，减轻每个从库的查询压力。

### 数据库的读写分离的作用？
- 有效减轻Master库的压力
- 又可以把用户查询数据的请求分发到不同的Slave库
从而保证系统的健壮性。

### 如何实现读写分离?
1. 定义2个数据库连接：
- 一个是MasterDataSource,另一个是SlaveDataSource。更新数据时我们读取MasterDataSource，查询数据时我们读取SlaveDataSource；
2. 动态数据源切换：
- 在程序运行时，把数据源动态织入到程序中，从而选择读取主库还是从库。主要使用的技术是：annotation，Spring AOP，反射。