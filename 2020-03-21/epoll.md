###  为什么 Redis 中要使用 I/O 多路复用这种技术呢？
-  Redis 是跑在单线程中的，所有的操作都是按照顺序线性执行的，
-  但是由于读写操作等待用户输入或输出都是阻塞的，所以 I/O 操作在一般情况下往往不能直接返回，这会导致某一文件的 I/O 阻塞导致整个进程无法对其它客户提供服务，
-  而 I/O 多路复用就是为了解决这个问题而出现的。

###  Redis 中有哪些 I/O 多路复用技术呢？
Redis的io模型主要是基于epoll实现的，不过它也提供了 select和kqueue的实现，默认采用epoll。


### epoll优点：

1. 最大限制：
- epoll 没有最大并发连接的限制，上限是最大可以打开文件的数目，这个数字一般远大于 2048, 一般来说这个数目和系统内存关系很大  ，具体数目可以 cat /proc/sys/fs/file-max 察看。
2. 只关注活跃连接：
- 效率提升， Epoll 最大的优点就在于它只管你“活跃”的连接 ，而跟连接总数无关，因此 IO 效率不随 FD 数目增加而线性下降，在实际的网络环境中， Epoll 的效率就会远远高于 select 和 poll 。
3. 共享内存：
- 内存拷贝， Epoll 在这点上使用了“共享内存 ”，这个内存拷贝也省略了。 
- 如果实现？
    - Epoll 使用了 mmap 加速内核与用户空间的消息传递。这点涉及了 epoll 的具体实现。无论是select, poll，还是 epoll，都需要内核把 FD 消息通知给用户空间，如何避免不必要的内存拷贝就很 重要。在这点上，Epoll 是通过内核与用户空间 mmap 同一块内存实现的。
    

### select/poll缺点：

1. 内存拷贝：
- 每次调用 select/poll，都需要把 fd 集合从用户态拷贝到内核态，这个开销在 fd 很多的时候会很大；
2. 遍历FD：
- 同时每次调用 select/poll 都需要在内核遍历传递进来的所有 fd，这个开销在 fd 很多时也很大；
3. FD的数量限制：
- 针对 select 支持的文件描述符数量太小了，默认是 1024；

相比 select模型，poll使用链表保存文件描述符，因此没有了监视文件数量的限制，但其他三个缺点依然存在。